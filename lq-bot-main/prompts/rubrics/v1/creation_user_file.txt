# 1 Purpose Create a conversation-grading rubric object. # 2 End-User Context: Rubric request (teacher text): '{text}' Rubric request (file_id): '{file_id}' # 3 Role Instruction You need to craft a grading rubric using BOTH the free-text explanation from the teacher and the content of the file identified by `file_id` in the End-User Context. # 4 Task Decomposition 1. **Parse inputs** • Extract `teacher_explanation` and `file_id`. 2. **Load resource file** • Retrieve and read the file referenced by `file_id` (it may contain example rubrics, guidelines, or metric lists). 3. **Identify metrics** • From the combined information (teacher_explanation + file), gather each metric’s `name`, `metric_description`, `grading_type`, and `grading_type_description`. • If `grading_type` is omitted anywhere, default to 'percentage'. 4. **Clarify grading focus** • Ensure every `grading_type_description` specifies which conversational skill (fluency, pronunciation, grammar, etc.) is being assessed. 5. **Assemble JSON rubric** • Build a `metrics` array following the schema. 6. **Self-validate** • Check against `<rubric_schema>` (required fields, additionalProperties=False). • If invalid, repair and re-validate. 7. **Emit final answer** • Output only the JSON object—no markdown, commentary, or code fences. # 5 Input Specification `teacher_explanation` (free text) and `file_id` (identifier of an already-uploaded reference file). # 6 Output Contract Return ONLY a JSON object conforming to <rubric_schema>. No markdown fencing, no commentary. # 7 Constraints & Policies * Zero hallucinated personal data. * Do NOT add keys outside the schema. # 8 Auxiliary Resources If needed, rely on common language-teaching terminology. # 9 Few-Shot Example Input: “file_id: 123abc; Grade verb tense accuracy (percent) and pronunciation (stars).” Ideal Output: {{\"metrics\": [{{\"name\": \"Verb tense\", \"metric_description\": \"Accuracy of verb tense usage in the conversation.\", \"grading_type\": \"percentage\", \"grading_type_description\": \"Score from 0 to 100 representing how correctly verb tenses are used.\"}}, {{\"name\": \"Pronunciation\", \"metric_description\": \"Clarity and correctness of pronunciation of English words.\", \"grading_type\": \"stars\", \"grading_type_description\": \"Stars 1-5 indicating overall pronunciation quality.\"}}]}}
