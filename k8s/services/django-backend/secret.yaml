# ==============================================================================
# SECRET: Django Backend - Sensitive Credentials
# ==============================================================================
# Almacena todas las credenciales sensibles para el backend de Django.
#
# ⚠️ IMPORTANTE:
# - Valores en base64 (encoding, no encriptación)
# - Reemplaza los placeholders con tus valores reales
# - En producción, usa External Secrets o Sealed Secrets
#
# Para generar valores base64:
# echo -n "tu-valor" | base64
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: django-backend-secret
  namespace: lingoquesto
  labels:
    app: django-backend
    component: api
type: Opaque
data:
  # ============================================================================
  # Django Core
  # ============================================================================
  # Django Secret Key (generado con: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())")
  # Actual: bx1q*y1murk7vq9%p=6j$5^u92!le^01(wp9p@%n47)xm)umy
  SECRET_KEY: YngxcSp5MW11cms3dnE5JXA9NmorNV51OTIhbGVeMDEod3A5cEAlbjQ3KXhtKXVteQ==

  # ============================================================================
  # Database Credentials
  # ============================================================================
  # Ya configuramos PostgreSQL, aquí referenciamos esas credenciales
  # Usuario: lq-dbuser
  POSTGRES_USER: bHEtZGJ1c2Vy

  # Password: lq-secure-password-2024
  POSTGRES_PASSWORD: bHEtc2VjdXJlLXBhc3N3b3JkLTIwMjQ=

  # Database: lq-db
  POSTGRES_DB: bHEtZGI=

  # ============================================================================
  # OAuth - Google
  # ============================================================================
  # Google Client ID
  # Placeholder: google-client-id-placeholder
  # ⚠️ Reemplaza con tu Google OAuth Client ID real
  GOOGLE_CLIENT_ID: Z29vZ2xlLWNsaWVudC1pZC1wbGFjZWhvbGRlcg==

  # Google Secret
  # Placeholder: google-secret-placeholder
  # ⚠️ Reemplaza con tu Google OAuth Secret real
  GOOGLE_SECRET: Z29vZ2xlLXNlY3JldC1wbGFjZWhvbGRlcg==

  # ============================================================================
  # OAuth - Microsoft (opcional)
  # ============================================================================
  # Microsoft Client ID
  # Placeholder: microsoft-client-id-placeholder
  MICROSOFT_CLIENT_ID: bWljcm9zb2Z0LWNsaWVudC1pZC1wbGFjZWhvbGRlcg==

  # Microsoft Secret
  # Placeholder: microsoft-secret-placeholder
  MICROSOFT_SECRET: bWljcm9zb2Z0LXNlY3JldC1wbGFjZWhvbGRlcg==

  # ============================================================================
  # External APIs
  # ============================================================================
  # LingoBot API Key
  # Placeholder: lingobot-api-key-placeholder
  LINGOBOT_API_KEY: bGluZ29ib3QtYXBpLWtleS1wbGFjZWhvbGRlcg==

  # JWT Secret for Realtime Service
  # Debe coincidir con el servicio realtime
  # Valor: a7c94ae7fb3aeb724e86dd8e02f7497312dea9043d665ab6d0fa4075bacb3364
  JWT_SECRET_KEY: YTdjOTRhZTdmYjNhZWI3MjRlODZkZDhlMDJmNzQ5NzMxMmRlYTkwNDNkNjY1YWI2ZDBmYTQwNzViYWNiMzM2NA==

  # Realtime JWT Keys (para HS256 symmetric signing)
  # Valor: dev-realtime-jwt-key-cd95c5f23f917cab00e136fb2523b3e827ed3ecd1bd11fe23123580d06ec4cfc
  REALTIME_JWT_PRIVATE_KEY: ZGV2LXJlYWx0aW1lLWp3dC1rZXktY2Q5NWM1ZjIzZjkxN2NhYjAwZTEzNmZiMjUyM2IzZTgyN2VkM2VjZDFiZDExZmUyMzEyMzU4MGQwNmVjNGNmYw==
  REALTIME_JWT_PUBLIC_KEY: ZGV2LXJlYWx0aW1lLWp3dC1rZXktY2Q5NWM1ZjIzZjkxN2NhYjAwZTEzNmZiMjUyM2IzZTgyN2VkM2VjZDFiZDExZmUyMzEyMzU4MGQwNmVjNGNmYw==

  # ============================================================================
  # Storage (S3/DigitalOcean Spaces) - Opcional
  # ============================================================================
  # AWS Access Key ID
  # Placeholder: aws-access-key-placeholder
  AWS_ACCESS_KEY_ID: YXdzLWFjY2Vzcy1rZXktcGxhY2Vob2xkZXI=

  # AWS Secret Access Key
  # Placeholder: aws-secret-key-placeholder
  AWS_SECRET_ACCESS_KEY: YXdzLXNlY3JldC1rZXktcGxhY2Vob2xkZXI=

  # ============================================================================
  # Other API Keys (opcionales)
  # ============================================================================
  # Unsplash API Key
  # Placeholder: unsplash-api-key-placeholder
  UNSPLASH_API_KEY: dW5zcGxhc2gtYXBpLWtleS1wbGFjZWhvbGRlcg==

  # Pronunciation API Key
  # Placeholder: pronunciation-api-key-placeholder
  PRONUNCIATION_API_KEY: cHJvbnVuY2lhdGlvbi1hcGkta2V5LXBsYWNlaG9sZGVy

# ==============================================================================
# Para actualizar valores:
#
# 1. Generar base64:
#    echo -n "tu-valor-real" | base64
#
# 2. Editar Secret:
#    kubectl edit secret django-backend-secret -n lingoquesto
#
# 3. Reiniciar deployment:
#    kubectl rollout restart deployment/django-backend -n lingoquesto
#
# Para ver valores (debugging):
# kubectl get secret django-backend-secret -n lingoquesto -o jsonpath='{.data.SECRET_KEY}' | base64 -d
# ==============================================================================
